language: python
sudo: required
python:
  - "3.5"
install:
  - pip install -r requirements.txt
  - pip install coveralls
before_script:
  - mysql -e 'create database openctf;'
env:
  - FILESTORE_URL=http://filestore:8000 REDIS_URL=redis://localhost:6379 DATABASE_URL=mysql://root:@localhost/openctf
script:
  - coverage run --source . -m pytest -v && coverage report
after_success:
  coveralls
services:
  - mysql
  - redis-server
notifications:
  email: false
